{
    "sourceFile": "src/features/SearchWeather/SearchWeather.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 15,
            "patches": [
                {
                    "date": 1716057647960,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1716057679504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,3 +1,3 @@\n export function SearchWeather() {\n-\n+  return <div>hello</div>;\n }\n"
                },
                {
                    "date": 1716057713243,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,3 +1,8 @@\n export function SearchWeather() {\n-  return <div>hello</div>;\n+  return <div>\n+\n+\n+\n+\n+  </div>;\n }\n"
                },
                {
                    "date": 1716057731743,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,43 @@\n export function SearchWeather() {\n-  return <div>\n+  const [inputValue, setInputValue] = React.useState(\"\");\n \n+  const setLocation = useSetLocationInfo();\n+  const addHistory = useAddSearchHistory();\n+  function handleOptionSelected(\n+    item: Option<GetPlacesResponse[\"features\"][0]>,\n+  ) {\n+    const newLocation = {\n+      longitude: get(item, \"value.properties.coordinates.longitude\", 0) ?? 0,\n+      latitude: get(item, \"value.properties.coordinates.latitude\", 0) ?? 0,\n+      countryCode:\n+        get(item, \"value.properties.context.country.country_code\", \"\") ?? \"\",\n+      regionName: get(item, \"value.properties.context.region.name\", \"\") ?? \"\",\n+    } satisfies LocationInfo;\n+    setLocation(newLocation);\n+    addHistory(newLocation);\n+  }\n+  return (\n+    <div>\n+      <AutoComplete\n+        value={inputValue}\n+        setValue={setInputValue}\n+        label=\"Country\"\n+        onOptionSelected={handleOptionSelected}\n+        fetchSuggestions={fetchSuggestions}\n+        labelClassName=\"text-white/[.5] peer-focus:text-white/[.5]\"\n+        inputClassName={`border-transparent bg-[#1A1A1A]/[.5] text-white`}\n+        debounceTimeout={1000}\n+        popoverClassName=\"translate-x-3 sm:translate-x-7\"\n+      />\n+      <div>\n+        <SearchIcon\n+          className={`\n+            size-10\n \n-\n-\n-  </div>;\n+            sm:size-[3.3rem]\n+          `}\n+        />\n+      </div>\n+    </div>\n+  );\n }\n"
                },
                {
                    "date": 1716057761624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,9 @@\n+import {\n+  useAddSearchHistory,\n+  useSetLocationInfo,\n+} from \"@/stores/weather/useWeatherStore.selectors\";\n+\n export function SearchWeather() {\n   const [inputValue, setInputValue] = React.useState(\"\");\n \n   const setLocation = useSetLocationInfo();\n"
                },
                {
                    "date": 1716057769363,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+import type { GetPlacesResponse } from \"@/api/MapBoxApi.types\";\n import {\n   useAddSearchHistory,\n   useSetLocationInfo,\n } from \"@/stores/weather/useWeatherStore.selectors\";\n"
                },
                {
                    "date": 1716057786020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,14 @@\n+import { useState } from \"react\";\n+\n import type { GetPlacesResponse } from \"@/api/MapBoxApi.types\";\n import {\n   useAddSearchHistory,\n   useSetLocationInfo,\n } from \"@/stores/weather/useWeatherStore.selectors\";\n \n export function SearchWeather() {\n-  const [inputValue, setInputValue] = React.useState(\"\");\n+  const [inputValue, setInputValue] = useState(\"\");\n \n   const setLocation = useSetLocationInfo();\n   const addHistory = useAddSearchHistory();\n   function handleOptionSelected(\n"
                },
                {
                    "date": 1716057792934,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import { useState } from \"react\";\n \n import type { GetPlacesResponse } from \"@/api/MapBoxApi.types\";\n+import { AutoComplete } from \"@/components/ui/AutoComplete\";\n import {\n   useAddSearchHistory,\n   useSetLocationInfo,\n } from \"@/stores/weather/useWeatherStore.selectors\";\n"
                },
                {
                    "date": 1716057832798,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,20 @@\n   useAddSearchHistory,\n   useSetLocationInfo,\n } from \"@/stores/weather/useWeatherStore.selectors\";\n \n+async function fetchSuggestions(query: string) {\n+  const res = await getPlaces({\n+    q: query,\n+  });\n+\n+  return res.data.features.map(item => ({\n+    id: item.id,\n+    label: item.properties.full_address,\n+    value: item,\n+  }));\n+}\n+\n export function SearchWeather() {\n   const [inputValue, setInputValue] = useState(\"\");\n \n   const setLocation = useSetLocationInfo();\n"
                },
                {
                    "date": 1716057838605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import { useState } from \"react\";\n \n+import { getPlaces } from \"@/api/MapBoxApi\";\n import type { GetPlacesResponse } from \"@/api/MapBoxApi.types\";\n import { AutoComplete } from \"@/components/ui/AutoComplete\";\n import {\n   useAddSearchHistory,\n"
                },
                {
                    "date": 1716057881229,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n import { getPlaces } from \"@/api/MapBoxApi\";\n import type { GetPlacesResponse } from \"@/api/MapBoxApi.types\";\n import { AutoComplete } from \"@/components/ui/AutoComplete\";\n+import type { Option } from \"@/components/ui/AutoComplete/AutoComplete.types\";\n import {\n   useAddSearchHistory,\n   useSetLocationInfo,\n } from \"@/stores/weather/useWeatherStore.selectors\";\n"
                },
                {
                    "date": 1716057908225,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,9 @@\n import {\n   useAddSearchHistory,\n   useSetLocationInfo,\n } from \"@/stores/weather/useWeatherStore.selectors\";\n+import { get } from \"@/utils/get\";\n \n async function fetchSuggestions(query: string) {\n   const res = await getPlaces({\n     q: query,\n"
                },
                {
                    "date": 1716057916451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,11 @@\n import { getPlaces } from \"@/api/MapBoxApi\";\n import type { GetPlacesResponse } from \"@/api/MapBoxApi.types\";\n import { AutoComplete } from \"@/components/ui/AutoComplete\";\n import type { Option } from \"@/components/ui/AutoComplete/AutoComplete.types\";\n+import type {\n+  LocationInfo,\n+} from \"@/stores/weather/slices/currentWeatherSlice.types\";\n import {\n   useAddSearchHistory,\n   useSetLocationInfo,\n } from \"@/stores/weather/useWeatherStore.selectors\";\n"
                },
                {
                    "date": 1716057924425,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import { getPlaces } from \"@/api/MapBoxApi\";\n import type { GetPlacesResponse } from \"@/api/MapBoxApi.types\";\n import { AutoComplete } from \"@/components/ui/AutoComplete\";\n import type { Option } from \"@/components/ui/AutoComplete/AutoComplete.types\";\n+import SearchIcon from \"@/icons/searchIcon\";\n import type {\n   LocationInfo,\n } from \"@/stores/weather/slices/currentWeatherSlice.types\";\n import {\n"
                },
                {
                    "date": 1716057936076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n     setLocation(newLocation);\n     addHistory(newLocation);\n   }\n   return (\n-    <div>\n+    <>\n       <AutoComplete\n         value={inputValue}\n         setValue={setInputValue}\n         label=\"Country\"\n@@ -65,7 +65,7 @@\n             sm:size-[3.3rem]\n           `}\n         />\n       </div>\n-    </div>\n+    </>\n   );\n }\n"
                },
                {
                    "date": 1716060170771,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n         label=\"Country\"\n         onOptionSelected={handleOptionSelected}\n         fetchSuggestions={fetchSuggestions}\n         labelClassName=\"text-white/[.5] peer-focus:text-white/[.5]\"\n-        inputClassName={`border-transparent bg-[#1A1A1A]/[.5] text-white`}\n+        inputClassName={`border-transparent bg-[#1A1A1A]/[.5] text-white hover:shadow-xl`}\n         debounceTimeout={1000}\n         popoverClassName=\"translate-x-3 sm:translate-x-7\"\n       />\n       <div>\n"
                }
            ],
            "date": 1716057647960,
            "name": "Commit-0",
            "content": "export function SearchWeather() {\n\n}\n"
        }
    ]
}